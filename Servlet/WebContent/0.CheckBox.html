<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
      <title>MY XHTML</title>
<style type="text/css">
	.btn{
		cursor:pointer;
	}
</style>
<script type="text/javascript">
	function  ctlBox_click(){//控制邮件复选框
		//获取控制复选框的对象
		var ctlBoxEle=document.getElementById("ctlBox");
		//alert(ctlBoxEle.checked);
		//获取邮件复选框对象
		var mailEles=document.getElementsByName("mail");
		for(var i=0;i<mailEles.length;i++){
			mailEles[i].checked=ctlBoxEle.checked;
		}
		changBtnStatus();
	}

		function getCheckedNum(){//获取被选定的数目
			var mailEles=document.getElementsByName("mail");
			var counts=0;
			for(var i=0;i<mailEles.length;i++){
				if(mailEles[i].checked){
					counts++;
				}
			}
			return counts;
		}
		function mailBox_click(){//控制“控制复选框”
			var ctlBoxEle=document.getElementById("ctlBox");
			var mailEles=document.getElementsByName("mail");
			if(mailEles.length==getCheckedNum()){
				ctlBoxEle.checked=true;
			}else{
				ctlBoxEle.checked=false;
			}
			changBtnStatus();
		}
		function changBtnStatus(){//改变按钮的状态
			//获取按钮对象
			var btnEle1=document.getElementById("btn1");
			var btnEle2=document.getElementById("btn2");
			var btnEle3=document.getElementById("btn3");
			if(getCheckedNum()){
				btnEle1.disabled=false;
				btnEle2.disabled=false;
				btnEle3.disabled=false;
			}else{
				btnEle1.disabled=true;
				btnEle2.disabled=true;
				btnEle3.disabled=true;
			}
		}
		function submit_form(id){
			//获取表单对象
			var formEle=document.getElementById("form1");
			if( id=='btn1'){
				formEle.action='a.jsp';
			}else if(id=='btn2'){
				formEle.action='b.jsp';
			}else if(id=='btn3'){
				formEle.action='c.jsp';
			}
			//提交表单
			formEle.submit();
		}
</script>
   </head>
   <body>
	<form name="form1" action="" method="post" id="form1">
     	<table width="600" cellspacing="0" cellpadding="10" border="2">
		<tr>
			<td colspan="4">
			<input  class ="btn"  onclick="submit_form('btn1')" type="button" value="放入回收站" id="btn1"  disabled="disabled"/>
			<input  class ="btn" onclick="submit_form('btn2')"  type="button" value="彻底删除" id="btn2" disabled="disabled"/>
			<input  class ="btn" onclick="submit_form('btn3')"  type="button" value="举报垃圾邮件"  id="btn3" disabled="disabled"/>
			</td>
		</tr>
		<tr>
			<td><input   onclick="ctlBox_click()" type="checkbox" name="ctlBox"  id="ctlBox"/></td>
			<td>发件人</td>
			<td>主题</td>
			<td>发信日期</td>
		</tr>
		<tr>
			<td><input   onclick="mailBox_click()" type="checkbox"  name="mail" value="1"/></td>
			<td>张三</td>
			<td>问题1</td>
			<td>2016-10-24</td>
		</tr>
		<tr>
			<td><input  onclick="mailBox_click()"  type="checkbox"  name="mail" value="2"/></td>
			<td>李四</td>
			<td>问题1</td>
			<td>2016-10-23</td>
		</tr>
		<tr>
			<td><input  onclick="mailBox_click()"  type="checkbox"  name="mail" value="3"/></td>
			<td>王五</td>
			<td>问题3</td>
			<td>2016-1-23</td>
		</tr>

	</table>
	</form>
   </body>
</html>